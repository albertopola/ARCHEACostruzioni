<section id="contact" class="section">
    <div class="section-content">
        <h2>Contact Us</h2>
        <p class="text-center lead mb-5">
            Get in touch with us for your next construction project. We're here to help bring your vision to life.
        </p>
        
        <div class="row">
            <div class="col-lg-6 mb-4">
                <div class="contact-form">
                    <h4 class="mb-4">Send us a Message</h4>
                    
                    @if (showThankYou)
                    {
                        <div class="thank-you-message">
                            <h5>Thank You!</h5>
                            <p>Your message has been sent successfully. We will get back to you as soon as possible.</p>
                            <button class="btn btn-primary" @onclick="ResetForm">Send Another Message</button>
                        </div>
                    }
                    else
                    {
                        <EditForm Model="contactForm" OnValidSubmit="HandleSubmit">
                            <DataAnnotationsValidator />
                            
                            <div class="mb-3">
                                <label for="name" class="form-label">Full Name *</label>
                                <InputText id="name" class="form-control" @bind-Value="contactForm.Name" placeholder="Your full name" />
                                <ValidationMessage For="@(() => contactForm.Name)" />
                            </div>
                            
                            <div class="mb-3">
                                <label for="email" class="form-label">Email *</label>
                                <InputText id="email" class="form-control" @bind-Value="contactForm.Email" placeholder="your@email.com" />
                                <ValidationMessage For="@(() => contactForm.Email)" />
                            </div>
                            
                            <div class="mb-3">
                                <label for="phone" class="form-label">Phone</label>
                                <InputText id="phone" class="form-control" @bind-Value="contactForm.Phone" placeholder="Your phone number" />
                            </div>
                            
                            <div class="mb-3">
                                <label for="subject" class="form-label">Subject *</label>
                                <InputText id="subject" class="form-control" @bind-Value="contactForm.Subject" placeholder="Project inquiry" />
                                <ValidationMessage For="@(() => contactForm.Subject)" />
                            </div>
                            
                            <div class="mb-3">
                                <label for="message" class="form-label">Message *</label>
                                <InputTextArea id="message" class="form-control" rows="5" @bind-Value="contactForm.Message" 
                                             placeholder="Tell us about your project requirements..." />
                                <ValidationMessage For="@(() => contactForm.Message)" />
                            </div>
                            
                            <button type="submit" class="btn btn-primary">Send Message</button>
                        </EditForm>
                    }
                </div>
            </div>
            
            <div class="col-lg-6">
                <div class="card">
                    <div class="card-header">
                        <h4>Get in Touch</h4>
                    </div>
                    <div class="card-body">
                        <div class="mb-4">
                            <h5>📍 Office Address</h5>
                            <p class="mb-0">Via Roma 123<br>
                            20121 Milano, Italy</p>
                        </div>
                        
                        <div class="mb-4">
                            <h5>📞 Phone</h5>
                            <p class="mb-0">+39 02 1234 5678</p>
                        </div>
                        
                        <div class="mb-4">
                            <h5>📧 Email</h5>
                            <p class="mb-0">info@archeacostruzioni.it</p>
                        </div>
                        
                        <div class="mb-4">
                            <h5>🕒 Business Hours</h5>
                            <p class="mb-0">
                                Monday - Friday: 8:00 AM - 6:00 PM<br>
                                Saturday: 9:00 AM - 1:00 PM<br>
                                Sunday: Closed
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

@code {
    private ContactFormModel contactForm = new();
    private bool showThankYou = false;

    private void HandleSubmit()
    {
        // Here you would typically send the form data to a server
        // For this demo, we'll just show the thank you message
        showThankYou = true;
    }

    private void ResetForm()
    {
        contactForm = new ContactFormModel();
        showThankYou = false;
    }

    public class ContactFormModel
    {
        [Required(ErrorMessage = "Name is required")]
        public string Name { get; set; } = string.Empty;

        [Required(ErrorMessage = "Email is required")]
        [EmailAddress(ErrorMessage = "Please enter a valid email address")]
        public string Email { get; set; } = string.Empty;

        public string Phone { get; set; } = string.Empty;

        [Required(ErrorMessage = "Subject is required")]
        public string Subject { get; set; } = string.Empty;

        [Required(ErrorMessage = "Message is required")]
        [MinLength(10, ErrorMessage = "Message must be at least 10 characters long")]
        public string Message { get; set; } = string.Empty;
    }
}