@using System.ComponentModel.DataAnnotations

<section id="contact" class="section">
    <h2>Contact</h2>
    @if (!submitted)
    {
        <EditForm Model="@formModel" OnValidSubmit="HandleValidSubmit">
            <DataAnnotationsValidator />
            <div class="form-group">
                <label>Name</label>
                <InputText @bind-Value="formModel.Name" class="form-control" />
                <ValidationMessage For="@(() => formModel.Name)" />
            </div>
            <div class="form-group">
                <label>Email</label>
                <InputText @bind-Value="formModel.Email" type="email" class="form-control" />
                <ValidationMessage For="@(() => formModel.Email)" />
            </div>
            <div class="form-group">
                <label>Message</label>
                <InputTextArea @bind-Value="formModel.Message" class="form-control" />
                <ValidationMessage For="@(() => formModel.Message)" />
            </div>
            <button type="submit" class="btn btn-primary">Send</button>
        </EditForm>
    }
    else
    {
        <div class="alert alert-success mt-3">
            Thank you for contacting us! We will get back to you soon.
        </div>
    }
</section>

@code {
    private ContactFormModel formModel = new();
    private bool submitted = false;

    private void HandleValidSubmit()
    {
        submitted = true;
    }

    public class ContactFormModel
    {
        [Required]
        public string Name { get; set; }
        [Required, EmailAddress]
        public string Email { get; set; }
        [Required]
        public string Message { get; set; }
    }
}